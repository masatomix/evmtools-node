# 開発フロー記録サンプル: REQ-VERSION-001

**案件名**: バージョン情報ユーティリティ追加
**要件ID**: REQ-VERSION-001
**実施日**: 2025-12-16
**目的**: 仕様駆動開発フローの可視化サンプル

---

## 概要

このドキュメントは、仕様駆動開発（Spec-Driven Development）の実際の開発フローを記録したサンプルです。
小規模な機能追加（バージョン情報ユーティリティ）を題材に、要件定義からトレーサビリティ更新までの一連の流れを示します。

---

## コミット履歴

| # | コミット | フェーズ | 説明 | ファイル |
|---|---------|---------|------|---------|
| 1 | `7a76ef4` | 要件定義 | 要件定義書作成（Draft） | `REQ-VERSION-001.md` (新規) |
| 2 | `9f59fc3` | 仕様書 | 詳細仕様作成 | `VersionInfo.spec.md` (新規) |
| 3 | `b0d2b71` | テスト | テストコード作成（実装前） | `VersionInfo.test.ts` (新規) |
| 4 | `4ecd7ce` | 実装 | 本体実装＋エクスポート追加 | `VersionInfo.ts` (新規), `index.ts` (修正) |
| 5 | `3bb96e4` | トレーサビリティ | 要件定義書を更新（Approved） | `REQ-VERSION-001.md` (修正) |

---

## 開発フロー図

```
[1] 要件定義     ──────────────────────────────────────┐
    REQ-VERSION-001.md (Draft)                        │
    - 何を作るか定義                                   │
    - 関連ドキュメントは「未作成」                      │
         │                                            │
         ▼                                            │
[2] 仕様書       ──────────────────────────────────┐  │
    VersionInfo.spec.md                            │  │
    - どう作るか定義                                │  │
    - テストケースを列挙                            │  │
         │                                         │  │
         ▼                                         │  │
[3] テスト       ──────────────────────────────┐   │  │
    VersionInfo.test.ts (5件)                  │   │  │
    - 仕様書のテストケースを実装                │   │  │
    - この時点ではテストは失敗する              │   │  │
         │                                     │   │  │
         ▼                                     │   │  │
[4] 実装         ──────────────────────────┐   │   │  │
    VersionInfo.ts (新規)                  │   │   │  │
    index.ts (修正)                        │   │   │  │
    - テストを通す実装を作成                │   │   │  │
         │                                 │   │   │  │
         ▼                                 │   │   │  │
    テスト実行 → 5件PASS ✅               │   │   │  │
         │                                 │   │   │  │
         ▼                                 ▼   ▼   ▼  ▼
[5] トレーサビリティ更新 ◀─────────────────────────────┘
    REQ-VERSION-001.md (Approved)
    - ステータス: Draft → Approved
    - 受け入れ基準: 全項目PASS
    - 関連ドキュメント: 実際のパスに確定
```

---

## 成果物一覧

### 要件定義書
- パス: `docs/specs/requirements/REQ-VERSION-001.md`
- 最終ステータス: Approved

### 仕様書
- パス: `docs/specs/domain/VersionInfo.spec.md`
- バージョン: 1.0.0

### テスト
- パス: `src/common/__tests__/VersionInfo.test.ts`
- テストケース: 5件
- 結果: 全てPASS

### 実装
| ファイル | 操作 | 説明 |
|---------|------|------|
| `src/common/VersionInfo.ts` | 新規 | 本体実装 |
| `src/common/index.ts` | 修正 | エクスポート追加 |

---

## トレーサビリティマトリクス

```
要件定義                仕様書                  テスト              実装
─────────────────────────────────────────────────────────────────────────
REQ-VERSION-001    ──▶  VersionInfo.spec.md  ──▶  TC-01 ────────▶  getVersionInfo()
                                                  TC-02
                                                  TC-03
                                                  TC-04
                                                  TC-05
```

---

## 学んだこと・ポイント

### 1. コミット粒度
- フェーズごとに1コミット
- 後からフローを追跡可能

### 2. テストファースト
- 実装前にテストを作成（コミット3）
- 実装時はテストを通すことに集中（コミット4）

### 3. トレーサビリティの重要性
- 要件定義書の「関連ドキュメント」を最後に確定
- ステータス管理（Draft → Approved）で進捗が明確

### 4. 複数ファイル修正の記録
- 新規作成: `VersionInfo.ts`
- 修正: `index.ts`（エクスポート追加）
- 両方を1コミットにまとめる（関連する変更）

---

## 参考

- [DEVELOPMENT_WORKFLOW.md](./DEVELOPMENT_WORKFLOW.md) - 開発ワークフロー全体
